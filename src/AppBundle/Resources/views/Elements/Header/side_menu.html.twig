<div class="widget widget-categories">
    <div class="aside-widget-hd">
        <div class="aside-header">{{ 'front.genres'|trans }}</div>
    </div>
    <div class="widget-padding">
        <div class="side_accordian">
            {% for parentGenre in parentGenres %}
                {% if genres[parentGenre.id] is defined %}
                    {% set childGenres = genres[parentGenre.id] %}
                {% else %}
                    {% set childGenres = [] %}
                {% endif %}
                {% if childGenres %}
                    <div class="accordion">
                        <span>{{ locale_field(parentGenre, 'title') }}</span>
                    </div>

                    <div class="accordion-content">
                        <ul class="side-meta">
                            {%- for childGenre in childGenres -%}
                                {% set genreUrl = childGenre.pathPrefix ~ '/' ~ locale_field(childGenre, 'slug') %}
                                <li><a href="/{{ genreUrl }}">{{ locale_field(childGenre, 'title') }}</a></li>
                            {%- endfor -%}
                        </ul>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
</div>
